<!--    We are using underscore.js templating
        http://underscorejs.org/#template     
-->

<!--    Template functions can both interpolate variables, using <%= … %>, 
        as well as execute arbitrary JavaScript code, with <% … %>. 
        If you wish to interpolate a value, and have it be HTML-escaped, use <%- … %>
-->


<script type="text/template" id="content-template">
    <p>This is from the: content-template</p>
    <% //debugger; %>
    <div class="container">
        <div class="row">
            <div class="col-md-7" id="mainCol">
                <% _.each(fetched_content, function(content)  { %>
                    <span class="content-title"><%= content.main.headLine %></span>

                <% // -- Check for images here -- %>
                <% if(content.main.numberOfImages > 0) { %>
                    <% for (var i=0; i < content.main.numberOfImages; i++){ %>
                        <div class="imagePlaceHolder imagePlaceHolderBig">
                            <span>PHOTO</span>
                        </div>
                    <% } %>
                <% } %>

                    <br />
                        <%= content.main.location.toUpperCase() %>
                        <span class="content-content"><%= content.main.fullStory %></span>
                <% }); %>
            </div>
            <aside class="col-md-5" id="asideCol">
                <% _.each(fetched_content, function(content)  { %>
                    <span class="related-title"><%= content.aside.headLine %></span>
                    <br />
                    <%= content.aside.location.toUpperCase() %>
                    <span class="related-content"><%= content.aside.fullStory %></span>

                    <% // -- Check for images here -- %>
                    <% if(content.aside.numberOfImages > 0) { %>
                        <span class="related-content"><%= content.aside.fullStory.replace("<br>", "<div class='imagePlaceHolder'>PHOTO</div>") %></span>
                    <% } else { %>
                        <span class="related-content"><%= content.aside.fullStory %></span>
                    <% } %>
                <% }); %>
            </aside>
        </div>
</script>
